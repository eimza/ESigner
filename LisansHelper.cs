using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Text;
using tr.gov.tubitak.uekae.esya.api.common.util;
using tr.gov.tubitak.uekae.esya.asn.util;
using System.Reflection;

namespace SignatureHelper
{
    class LisansHelper
    {
        //private static bool freeLicenseLoaded = false;
        //private static bool testLicenseLoaded = false;
        //public static void loadFreeLicense()
        //{
        //    if(freeLicenseLoaded)
        //        return;
        //    string currentDirectory = Directory.GetCurrentDirectory();
        //    string lisansFilePath = currentDirectory + "\\lisans\\lisansFree.xml";
        //    LicenseUtil.setLicenseXml(new FileStream(lisansFilePath, FileMode.Open, FileAccess.Read));
        //    freeLicenseLoaded = true;
        //}

        public static void loadLicense()
        {
            // logger.Debug("License is being loaded from: " + LICENSE);
            LicenseUtil.setLicenseXml(new FileStream(@"lisans\Full_lisans.xml", FileMode.Open, FileAccess.Read));
            //var assembly = Assembly.GetExecutingAssembly();
            //var resourceName = "global::ESigner.Properties.Resources.Full_lisans.xml";

            //Stream stream = assembly.GetManifestResourceStream(resourceName);
            //StreamReader reader = new StreamReader(stream);
            ////{
            ////    string result = reader.ReadToEnd();
            ////}
            //LicenseUtil.setLicenseXml(stream);
        }

        //public static void loadFullTestLicense()
        //{
        //    if(testLicenseLoaded)
        //        return;
        //    string currentDirectory = Directory.GetCurrentDirectory();
        //    string lisansFilePath = currentDirectory + "/lisans/lisansFullTest.xml";
        //    LicenseUtil.setLicenseXml(new FileStream(lisansFilePath, FileMode.Open, FileAccess.Read));
        //    testLicenseLoaded = true;
        //}
       
        //public static void loadFreeLicenseBase64()
        //{
        //    if (freeLicenseLoaded)
        //        return;
        //    const string licenseHexData = "308214B006092A864886F70D010702A08214A13082149D020101310"+
        //                                  "B300906052B0E03021A050030820C8F06092A864886F70D010701A082"+
        //                                  "0C8004820C7C3C3F786D6C2076657273696F6E3D22312E302220656E63"+
        //                                  "6F64696E673D227574662D3822203F3E0A3C4C6973616E733E0A20203C4C"+
        //                                  "6973616E7349443E3439363C2F4C6973616E7349443E0A20203C5461726968"+
        //                                  "42696C67693E0A202020203C4261736C616E6769635461726968693E32312F31312F323031323C2F4261736C616E6769635461726968693E0A202020203C42697469735461726968693E32312F31312F323036323C2F42697469735461726968693E0A20203C2F546172696842696C67693E0A20203C4B7572756D42696C67693E0A202020203C4B7572756D4164693E47656E656C204B756C6C616EC4B16D3C2F4B7572756D4164693E0A202020203C5965746B696C693E3C2F5965746B696C693E0A202020203C45506F7374613E3C2F45506F7374613E0A202020203C54656C4E6F3E3C2F54656C4E6F3E0A202020203C4661783E3C2F4661783E0A202020203C41647265733E3C2F41647265733E0A20203C2F4B7572756D42696C67693E0A20203C5572756E42696C67693E0A202020203C5572756E49443E34303C2F5572756E49443E0A202020203C5572756E41643E4F7274616B3C2F5572756E41643E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4261736C616E6769635461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323036323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4353686172703C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4A6176613C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E546573743C2F41643E0A2020202020203C44656765723E646567696C3C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42616B696D536F7A6C65736D6542697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031373C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A20203C2F5572756E42696C67693E0A20203C5572756E42696C67693E0A202020203C5572756E49443E34313C2F5572756E49443E0A202020203C5572756E41643E416B696C6C694B6172743C2F5572756E41643E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4261736C616E6769635461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323036323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4353686172703C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4A6176613C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E546573743C2F41643E0A2020202020203C44656765723E646567696C3C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A20203C2F5572756E42696C67693E0A20203C5572756E42696C67693E0A202020203C5572756E49443E34323C2F5572756E49443E0A202020203C5572756E41643E536572746966696B61446F6772756C616D613C2F5572756E41643E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4261736C616E6769635461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323036323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4353686172703C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4A6176613C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E546573743C2F41643E0A2020202020203C44656765723E646567696C3C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A20203C2F5572756E42696C67693E0A20203C5572756E42696C67693E0A202020203C5572756E49443E34333C2F5572756E49443E0A202020203C5572756E41643E434D53496D7A613C2F5572756E41643E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4261736C616E6769635461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323036323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4353686172703C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4A6176613C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E546573743C2F41643E0A2020202020203C44656765723E646567696C3C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A20203C2F5572756E42696C67693E0A20203C5572756E42696C67693E0A202020203C5572756E49443E34353C2F5572756E49443E0A202020203C5572756E41643E584D4C496D7A613C2F5572756E41643E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4261736C616E6769635461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323031323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E42697469735461726968693C2F41643E0A2020202020203C44656765723E32312F31312F323036323C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4353686172703C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E4A6176613C2F41643E0A2020202020203C44656765723E7661723C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A202020203C4B6F6E74726F6C42696C67693E0A2020202020203C41643E546573743C2F41643E0A2020202020203C44656765723E646567696C3C2F44656765723E0A202020203C2F4B6F6E74726F6C42696C67693E0A20203C2F5572756E42696C67693E0A3C2F4C6973616E733E0AA08204EE308204EA308202D2A00302010202012C300D06092A864886F70D01010B05003021311F301D06035504030C164D4133204C6973616E732053756E7563757375203031301E170D3130303331383131333031365A170D3330303331383131333031365A3021311F301D06035504030C164D4133204C6973616E732053756E756375737520303130820222300D06092A864886F70D01010105000382020F003082020A02820201009EB248C05395E61D357B789153C910E59D5A10CF5CB3F3AE636A2FFEFA991D47CE54AC57535CCDC13ECAEC1C50DEE5827876E15867491AB99ADD27AFAE461C76C7CC82DFAEDEB4D0E6DDF4D9613BE9BBD65B2E30223199A93A60F6FB96240F9576C102D295DD929076C675B5B7969BDD7164E2560461E9F129C64364BBFCEB182E9756468D26DF95F28897A89840E89D84E933E9678B0B360104383D37F23E80525E46A642AF0213679F75CADA0A9DE3119310F54D415AA86E676B3E20D0C7145C4CC1FE9AF047CA3E0422FFF837D0366AD34CB39C4DC79BC1B3B76E2A1A74684315F2ADB5983F16F5D650140D0EB98DCBF6AA951CDE8A8BB0259C3279A980143F2594DD720D50768BCC2648B2C2AAF1EE29463D71A1F66D78F9AF043AAF6E99D075D8BA96D635ECB5D3181B8CBFC81719A32DAD82C849F7481AAF3DEC0CE703242AB9A1EB5423CD9872D7A21B73190BECD03C9B62EEC4789983A2D28ABAEA8855C835E23877D58D2BE9138AB4A169AF85BCF28DEA7981AE3CD1E1028531F67430DF97645A36E45321FD6E99EE1ED48112CBD51BB31BDE1B9F1C416B245DF2CE33202FB4B12C0B8724E78B41AC7124078D75515C7AFBC03334C37FFC33C4FDB62B779CE8DD49639250FAB2FA0C9430A76788E2D8589155485E4C3F1A9B508EADE766EA5AF3F13664F8B4BFE5247A9F5DDF5D0D5EE948ADCF3901F11F2F712A8D0203010001A32D302B300E0603551D0F0101FF0404030206C030190603551D1104123010810E6C6973616E73406D61332E6E6574300D06092A864886F70D01010B050003820201000162012379F1E131BBE7B1D2EED176FBC64F1C536FB51A65527D9195150D2BF1D405A3F06AC31823E73EA5C819F938F03064AA512424C9EB8D595425F6B27B6088FB3709F6FF5B5BA276A82E44636A6FB7D52F2117791E9A61EA8DE4439F40FBAC6A5733EDE5B69B46886158006C344FCBB22EB8EB6106F53A54EE6239470A5A7AEB06E7EDA159BA6FC6F4FA9733630CC6644A0B9D779C757308355D59D5E0326FB819ECFB5A080DD0B7E3E85B88CB178C29A2D3464719E9BB0ABB9B20DB6E8252964B50B9B48E22C0332307DCB2841F1B670056219B6EF4D4EE4BE9EE8CCEB5D41443201851F5F7A96209F06BD25D2A43D1AE49007D2FFEC2C59EE639AD78B61E788CB003208448F79CD34EBCF689CECD0C28990FBD475F03DD7E0A0DB066AE65CE8354A693351EAE851A0789A74909A3184326A29394CC9D738A8A5DF3E80D6D722F0925C395873A02F5EE6BC9903FDE6C64C75EBE52CAC1402184DF3978190FA11EF954D913AED1DF841487935E9ABBA9CB4D6F718679A5B61C2BB347906F5D851D2B3BE9338F10756296C09B007FC4FD7B0AE3D3B418F701BFC2DADDDFC9F615D680447F25015088C913D60ABC6DE96E837696A71C9D243AEB194E0AB4D952E0669377374EB76427788351BF94BF419E289376E8FC2599815A5840D6D0374ABFD69C7A70C3D5F2FAEC97ECBB035632947FE7B0D4B3000BADAA1CF4B0C441318203043082030002010130263021311F301D06035504030C164D4133204C6973616E732053756E756375737520303102012C300906052B0E03021A0500A081B6301806092A864886F70D010903310B06092A864886F70D010701301C06092A864886F70D010905310F170D3132313132313036353531305A302306092A864886F70D01090431160414A99DD1E12F1B537E4AF8768ECB5A39EFE81EB12F3057060B2A864886F70D010910020C31483046304430420414C5AAC67374B9B457ECE3FA3BF421D4BF2F93E16C302A3025A4233021311F301D06035504030C164D4133204C6973616E732053756E756375737520303102012C300B06092A864886F70D0101010482020062523E4D773BAFF813A2581D75324D041B074861A367EE94D28C2E3304767817598B5B3A5E7575D94FB023632224BB00DBF2AB71A3E0A39F087476B630DAEA84141D04B1DB0B9A83C3EB956CE4A74710353CCFBDBDBEBC7F1F6942A5EF205DCDDB7B7F2A1C7FF69DEBFE35C8A86E7AA78D1DEEBAC959A993293AD2ED4DEFE5BCE1579A677C1FFE99D2E8E264D4F469E8765C49B2D157A032EB334A2391839C9BC53C53E090ED7E4D6E42E3533918916F3DE2CD7AF41DA40D757ECBABC1146FA54EA57DCFD72CA1CD3B80A745F0C9A7A6B34096EAEF5CED4FA2BE9B7447674EED7B651B49C749618F224633075B25D5C6550EBA79219623F7348F84DF14206F173AB0CEAAC2B4A6839EA13DEEE6BC7CB7228BDFFCBDB9094CC89FF3994AFB4FCFCDF8A8A8AD372260BAD03329ABEAEB59B8A2766EBAE4AB2968A511F080FBD2100A04144BFE3A9433BA620B105D274F9C2622604DEAE35050C0C1C1A888C4B7C9AAB8F892DE0292A411A7D083036EAD7DE3E19C77D063764721229B66F895DB261D00933C071E6A7E738AC793976902C90C710E8177F7804F0B71B7DC97697BB0471C79CC35620EDEEDE4D1F0D290EECBEC8C5D7E8313E50D882C6E4C57B09FA60A187CB2010ED73C95490717479B1583991324CF8506748327B78CCC37DA6098FAAD455F8E112BC"+
        //                                  "1A22717C1D41028F2850925671E7C5A1B33337D6F16501137";
        //    byte[] licenseArray = StringUtil.ToByteArray(licenseHexData);
        //    MemoryStream ms = new MemoryStream(licenseArray);
        //    LicenseUtil.setLicenseXml(ms);
        //    //LicenseUtil.setLicensePassword("password");
        //    freeLicenseLoaded = true;

        //    //Lisans dosyasını hex olarak okuma
        //    /*string currentDirectory = Directory.GetCurrentDirectory();
        //    string lisansFilePath = currentDirectory + "/lisans/lisansFree.xml";
        //    FileStream fs = new FileStream(lisansFilePath, FileMode.Open,FileAccess.Read);
        //    byte[] licenseContent = AsnIO.streamOku(fs);
        //    string hexLicense = StringUtil.FromByteArray(licenseContent);
        //    System.Console.WriteLine(hexLicense);*/
        //}
    }
}
